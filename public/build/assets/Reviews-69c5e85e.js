import{_ as h}from"./PaginationMixin-11bee913.js";import{A as v,N as f}from"./AppLayout-4ad18c55.js";import{P as u}from"./PageHeader-7b6923cd.js";import{A as w}from"./AcademyReviewCard-aaa6d32a.js";import{R as y}from"./RecordNotFound-51b6965a.js";import{_ as g,d as b,o as t,c as l,w as k,r as d,a as s,t as n,b as a,g as c,F as A,h as C,e as N,n as R,f as $}from"./app-532c599c.js";const B=b({mixins:[h],components:{AppLayout:v,Navbar:f,PageHeader:u,AcademyReviewCard:w,RecordNotFound:y},props:["academy"],created(){},mounted(){this.onSearch()},data(){return{reviews:{}}},methods:{async getPaginatedData(e=!1){await this.getAcademyReviews(e)},getAcademyReviews(e){axios.post(this.route("getApiAcademyReviews",{user_name:this.academy.user_name}),this.filter).then(i=>{const o=i.data.data;e?this.reviews.data=this.reviews.data.concat(o.data):this.reviews.data=o.data,this.reviews.links=o.links,this.reviews.meta=o.meta,this.fetching=!1})}}}),P={class:"section py-5"},V={class:"container"},F={class:"row"},D={class:"col-12 mb-5"},L={class:"text-center"},M={key:0,class:"col-12"},S={class:"row"},j={key:1,class:"col-12"},z={key:0,class:"row mb-5 mx-0"},E={key:1,class:"row mb-5 mx-0"},H={class:"col-12 text-center mb-3"},T={key:2,class:"row"},q={class:"col-md-12 d-flex align-items-center justify-content-center"},x=["disabled"];function G(e,i,o,I,J,K){const m=d("academy-review-card"),_=d("record-not-found"),p=d("app-layout");return t(),l(p,{title:"My Profile"},{default:k(()=>[s("div",P,[s("div",V,[s("div",F,[s("div",D,[s("h2",L,n(e.academy.name)+" "+n(e.__n("review")),1)]),e.fetching?(t(),a("div",M,[s("div",S,n(e.__("fetching")),1)])):c("",!0),e.fetching?c("",!0):(t(),a("div",j,[e.reviews.data.length>0?(t(),a("div",z,[(t(!0),a(A,null,C(e.reviews.data,r=>(t(),l(m,{add_col:!0,key:r.id,review:r},null,8,["review"]))),128))])):(t(),a("div",E,[s("div",H,[N(_)])])),e.reviews.meta.last_page!=this.filter.page?(t(),a("div",T,[s("div",q,[s("button",{onClick:i[0]||(i[0]=r=>e.loadMore()),class:"btn btn-primary position-relative",disabled:e.loading_more},[s("span",{class:R([{loader:e.loading_more},"position-absolute"])},null,2),$(" "+n(e.__("load more")),1)],8,x)])])):c("",!0)]))])])])]),_:1})}const Z=g(B,[["render",G]]);export{Z as default};
