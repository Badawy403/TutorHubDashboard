import{A as V,N as Y}from"./AppLayout-4ad18c55.js";import{P as G}from"./PageHeader-7b6923cd.js";import{d as $,H as T,L as C,_ as y,o,b as n,e as _,g,F as f,h as b,a as e,t as a,w as P,f as L,s as m,v as u,r as c,n as U,M as S,c as D}from"./app-532c599c.js";import{V as F}from"./ValidationErrors-b71c5ecd.js";import{T as j,a as M}from"./TableTHead-47781b85.js";import{T as R}from"./TablePagination-f6ee08dc.js";import{_ as O}from"./PaginationMixin-11bee913.js";import{T as B,a as q,S as N}from"./SideTabsPageSkeleton-be70e70d.js";import{R as H}from"./RecordNotFound-51b6965a.js";import{M as J}from"./Modal-ab73aec4.js";import{B as z}from"./Breadcrums-8b420da4.js";import{_ as E}from"./default_avatar_men-3c7742fa.js";const K=$({components:{Head:T,Link:C,RecordNotFound:H,Modal:J},props:["appointments"],data(){return{form:this.$inertia.form({comment:"",rating:0,teacher_id:null,booked_appointment_id:null}),showRatingObj:[]}},methods:{setAppointment(t){this.form.booked_appointment_id=t.id,this.form.teacher_id=t.teacher_id},close(){document.getElementById("close").click()},resetForm(){this.form=this.$inertia.form({comment:"",rating:0,teacher_id:null,booked_appointment_id:null})},checkUserAlreadyRated(t){var s=t.ratings.find(r=>r.fromable_type==this.$page.props.auth.logged_in_as&&r.fromable_id==this.$page.props.auth.user[this.$page.props.auth.logged_in_as].id);return!s},isShowRateBtn(t){var s=this.showRatingObj.find(r=>r.appointment_id==t.id);return s?s.isShow:!1},setRating(t){this.form.rating=t},submit(){this.form.post(this.route("add_appointment_rating"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{const t=document.querySelector(".modal-backdrop");t&&t.classList.remove("modal-backdrop"),this.close();var s=this.showRatingObj.findIndex(r=>r.appointment_id===this.form.booked_appointment_id);s>=0&&(this.showRatingObj[s].isShow=!1),this.resetForm()}})}},mounted(){for(let s=0;s<this.appointments.data.length;s++){const r=this.appointments.data[s];var t={appointment_id:r.id,isShow:this.checkUserAlreadyRated(r)};this.showRatingObj.push(t)}}}),Q={class:"row"},W={key:0,class:"col-12 text-center mb-3"},X={class:"card spotlight-card shadow-sm px-4 py-3 item-h border-0"},Z={class:"card-body p-0"},I={class:"row align-items-center"},x={class:"col-md-3"},tt={class:"d-flex justify-content-center card-avatar overflow-hidden position-relative rounded-3"},et=["src"],st={class:"col-md-9"},at={class:"card-body p-0"},ot={class:"row mb-3"},nt={class:"col-md-12 d-flex align-items-center justify-content-between"},it={class:"fs-4 mb-0 fw-bold text-capitalize"},lt={class:"d-flex align-items-center me-md-3"},dt={key:0},rt=["onClick"],ct={key:1,class:"btn btn-success fw-bold shadow-sm px-3 py-2 ms-3 rounded"},mt={class:"modal-content"},_t={class:"modal-header"},pt=["id"],ht=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ut={class:"modal-body"},ft={for:"rating"},gt={class:"rating text-center fs-3 text-warning"},bt={class:"form-group"},vt={for:"comment"},$t={key:0},yt={class:"modal-footer"},wt=["id"],kt=["onClick"],At={class:"row mt-3 align-items-center"},St={class:"col-12 d-flex"},Tt={class:"col-md-7"},Ct={class:"d-md-flex align-items-start"},Pt={class:"d-flex flex-column align-items-start me-4"},Dt={class:"fs-4 fw-bold"},Vt={class:"fs-5"},Lt={key:0,class:"d-flex flex-column align-items-start mt-3 mt-md-0"},Ut={class:"fs-4 fw-bold"},Ft={class:"fs-5"},jt={key:1,class:"d-flex flex-column align-items-start me-3"},Mt=e("i",{class:"bi bi-clock-fill me-3 fs-4"},null,-1),Rt={class:""},Ot={class:"col-md-5 ms-5 ms-md-0"},Bt={class:"d-flex flex-column flex-md-row"},Nt={class:"d-flex flex-column align-items-start me-4"},Ht={class:"fw-bold fs-4"},zt={class:"me-2 mt-1 fs-5"},qt={class:"d-flex flex-column align-items-start mt-3 mt-md-0"},Et={class:"fs-4 fw-bold"},Yt={class:"fs-5 mt-1"};function Gt(t,s,r,w,k,A){const p=c("record-not-found"),h=c("Link"),l=c("star-rating"),i=c("Modal");return o(),n("div",Q,[t.appointments.data.length==0?(o(),n("div",W,[_(p)])):g("",!0),(o(!0),n(f,null,b(t.appointments.data,d=>(o(),n("div",{class:"col-lg-6 mb-3",key:d.id},[e("div",X,[e("div",Z,[e("div",I,[e("div",x,[e("div",tt,[d.student_image?(o(),n("img",{key:0,class:"img-fluid",src:d.student_image,alt:"teacher"},null,8,et)):g("",!0)])]),e("div",st,[e("div",at,[e("div",ot,[e("div",nt,[e("h2",it,a(d.student_name),1),e("div",lt,[_(h,{href:t.route("teacher.appointment_log.detail",{id:d.id}),class:"btn btn-outline-primary fw-bold px-3 py-2 shadow-sm rounded-pill"},{default:P(()=>[L(a(t.__("Details")),1)]),_:2},1032,["href"]),d.appointment_status_code==5?(o(),n("div",dt,[t.isShowRateBtn(d)?(o(),n("button",{key:0,"data-bs-toggle":"modal","data-bs-target":"#ratingModel",id:"rate_now_button",onClick:v=>t.setAppointment(d),class:"btn btn-primary fw-bold shadow-sm px-3 py-2 ms-3 rounded"},a(t.__("rate us")),9,rt)):(o(),n("button",ct,a(t.__("rated")),1))])):g("",!0),_(i,{id:"ratingModel","aria-labelledby":"ratingModelLabel"},{default:P(()=>[e("div",mt,[e("div",_t,[e("h5",{class:"modal-title",id:t.ratingModelLabel},a(t.__("rate now")),9,pt),ht]),e("div",ut,[e("label",ft,a(t.__("rating"))+":",1),e("div",gt,[_(l,{modelValue:t.form.rating,"onUpdate:modelValue":s[0]||(s[0]=v=>t.form.rating=v),"onUpdate:rating":t.setRating,"star-size":25},null,8,["modelValue","onUpdate:rating"])]),e("div",bt,[e("label",vt,a(t.__("comment"))+":",1),m(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=v=>t.form.comment=v),class:"form-control",id:"",cols:"30",rows:"3"},null,512),[[u,t.form.comment]]),t.form.errors.comment?(o(),n("span",$t,a(t.form.errors.comment),1)):g("",!0)])]),e("div",yt,[e("button",{type:"button",class:"btn btn-secondary",id:t.ratingModel,"data-bs-dismiss":"modal"},a(t.__("close")),9,wt),e("button",{type:"button",onClick:v=>t.submit(d),class:"btn btn-primary"},a(t.__("submit")),9,kt)])])]),_:2},1024)])])])]),e("div",At,[e("div",St,[e("div",Tt,[e("div",Ct,[e("div",Pt,[e("h6",Dt,a(t.__("Date")),1),e("span",Vt,a(d.date),1)]),d.is_schedule_required?(o(),n("div",Lt,[e("h6",Ut,a(t.__("Time")),1),e("span",Ft,a(d.start_time)+" - "+a(d.end_time),1)])):(o(),n("div",jt,[Mt,e("span",Rt,a(t.__("Available")),1)]))])]),e("div",Ot,[e("div",Bt,[e("div",Nt,[e("span",Ht,a(t.__("Type")),1),e("span",zt,a(d.appointment_type_name),1)]),e("div",qt,[e("span",Et,a(t.__("fee")),1),e("span",Yt,a(t.getDisplayAmount(d.fee)),1)])])])])])])])])])]))),128))])}const Jt=y(K,[["render",Gt]]),Kt=$({components:{Head:T,AppLayout:V,ValidationErrors:F,Link:C,Table:j,TableTHead:M,TablePagination:R,TableSkeleton:B,TagSkeleton:q,SideTabsPageSkeleton:N,TeacherAppointmentListCard:Jt,Breadcrums:z},mixins:[O],props:["appointment_status"],data(){return{appointments:{},currentTab:0,status_code:1,fetching:!1,key:1,columns:[{id:1,name:this.__("teacher"),value:"teacher.first_name",searchable:!1,sortable:!1},{id:2,name:this.__("date"),value:"date",searchable:!0,sortable:!0},{id:3,name:this.__("start time"),value:"start_time",searchable:!1,sortable:!0},{id:4,name:this.__("end time"),value:"end_time",searchable:!1,sortable:!0},{id:5,name:this.__("paid"),value:"is_paid",searchable:!1,sortable:!1}],breadcrums:[{id:1,name:"Home",link:"/"},{id:2,name:"My Appointments",link:""}]}},async created(){this.filter.status_code=this.status_code,await this.getAppointmentFilterData(!1)},methods:{async getPaginatedData(t=!1,s){s&&(this.status_code=s),this.filter.status_code=this.status_code,await this.getAppointmentFilterData(t)},getAppointmentFilterData(t){this.fetching=!0,axios.post(this.route("getApiTeacherFilterAppointmentLogs"),this.filter).then(s=>{const r=s.data.data;t?this.appointments.data=this.appointments.data.concat(r.data):this.appointments.data=r.data,this.appointments.links=r.links,this.appointments.meta=r.meta,this.fetching=!1})}}}),Qt={class:"row mx-0 py-5"},Wt={class:"col-12 text-center"},Xt={class:"text-primary"},Zt={key:0,class:"container"},It={key:1,class:"container"},xt={class:"row"},te={class:"col-12 d-flex align-items-start align-items-md-center justify-content-between flex-column flex-md-row"},ee={class:"col-lg-6"},se={class:"nav nav-pills account-tabs appoint-navs gap-2 gap-md-3 fs-4 fw-bold",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},ae=["onClick"],oe=["id","data-bs-target","onClick"],ne={class:"col-12 col-lg-6"},ie={class:"col-12"},le={class:"d-md-flex align-items-center justify-content-end mb-3"},de={class:"d-flex me-md-3 mb-3 mb-md-0 bg-white rounded-3"},re={value:"",selected:""},ce=["value"],me={key:0,class:"form-group me-2"},_e={key:1,class:"form-group me-2"},pe={key:2,class:"form-group me-2"},he={key:3,class:"form-group me-2"},ue={value:""},fe={value:"1"},ge={value:"0"},be={key:4,class:"form-group me-2"},ve=["placeholder"],$e={class:"container py-4"},ye={class:"col-12"};function we(t,s,r,w,k,A){const p=c("SideTabsPageSkeleton"),h=c("teacher-appointment-list-card"),l=c("TablePagination");return o(),n(f,null,[e("div",Qt,[e("div",Wt,[e("h1",Xt,a(t.__("Appointment Log")),1)])]),t.fetching?(o(),n("div",Zt,[_(p)])):(o(),n("div",It,[e("div",xt,[e("div",te,[e("div",ee,[e("div",se,[(o(!0),n(f,null,b(t.appointment_status,(i,d)=>(o(),n("li",{class:"nav-item mb-3",role:"presentation",onClick:()=>t.currentTab=d,key:d},[e("button",{class:U(["nav-link text-dark",{active:t.currentTab===d}]),id:"pills-appointment-tab-"+d,"data-bs-toggle":"pill","data-bs-target":"#pills-home-"+d,type:"button",role:"tab","aria-controls":"pills-pending","aria-selected":"true",onClick:v=>t.getPaginatedData(!1,i.status_code)},[e("div",null,a(t.__(i.display_name)),1)],10,oe)],8,ae))),128))])]),e("div",ne,[e("div",ie,[e("div",le,[e("div",de,[m(e("select",{style:{width:"200px"},"onUpdate:modelValue":s[0]||(s[0]=i=>t.filter.column=i),class:"form-select shadow-none rounded-0 h-auto bg-transparent border-end border-primary border-2","aria-label":"Select Filter"},[e("option",re,a(t.__("select"))+" "+a(t.__("filter")),1),(o(!0),n(f,null,b(this.columns,i=>(o(),n("option",{key:i.id,value:i.value},a(i.name),9,ce))),128))],512),[[S,t.filter.column]]),t.filter.column=="date"?(o(),n("div",me,[m(e("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3"},null,512),[[u,t.filter.search]])])):t.filter.column=="start_time"?(o(),n("div",_e,[m(e("input",{type:"time","onUpdate:modelValue":s[2]||(s[2]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3"},null,512),[[u,t.filter.search]])])):t.filter.column=="end_time"?(o(),n("div",pe,[m(e("input",{type:"time","onUpdate:modelValue":s[3]||(s[3]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3"},null,512),[[u,t.filter.search]])])):t.filter.column=="is_paid"?(o(),n("div",he,[m(e("select",{style:{width:"200px"},"onUpdate:modelValue":s[4]||(s[4]=i=>t.filter.search=i),class:"form-select shadow-none bg-transparent h-auto","aria-label":"Select Filter"},[e("option",ue,a(t.__("select please")),1),e("option",fe,a(t.__("Yes")),1),e("option",ge,a(t.__("No")),1)],512),[[S,t.filter.search]])])):(o(),n("div",be,[m(e("input",{"onUpdate:modelValue":s[5]||(s[5]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3",placeholder:t.__("Search"),type:"text"},null,8,ve),[[u,t.filter.search]])]))]),e("div",null,[e("button",{type:"button",class:"btn btn-primary me-2 w-100",onClick:s[6]||(s[6]=i=>t.getPaginatedData(!1,t.status.status_code))},a(t.__("Search")),1)])])])])])]),e("div",$e,[_(h,{appointments:t.appointments},null,8,["appointments"]),e("div",ye,[_(l,{onOnPageChange:t.onPageChange,meta:t.appointments.meta},null,8,["onOnPageChange","meta"])])])]))],64)}const ke=y(Kt,[["render",we]]),Ae=$({components:{Head:T,Link:C,RecordNotFound:H},props:["appointments"],data(){return{}}}),Se={key:0,class:"col-12 text-center mb-3"},Te={class:"row"},Ce={class:"col-12"},Pe={class:"row"},De={class:"card spotlight-card shadow-sm px-4 py-3 item-h border-0"},Ve={class:"card-body p-0"},Le={class:"row align-items-center"},Ue={class:"col-md-3"},Fe={class:"d-flex justify-content-center card-avatar overflow-hidden position-relative rounded-3"},je=["src"],Me={key:1,class:"img-fluid",src:E,alt:"teacher"},Re={class:"col-md-9"},Oe={class:"card-body p-0"},Be={class:"row"},Ne={class:"col-md-9 align-content-start"},He={class:"mb-2 mt-4 mt-md-2 fs-4 fw-bold text-capitalize"},ze={class:"col-md-3 text-start text-md-end"},qe={class:"row mt-2 align-items-center"},Ee={class:"col-md-7"},Ye={class:"d-md-flex d-flex align-items-start"},Ge={class:"d-flex flex-column align-items-start me-3"},Je={class:"fs-4 fw-bold"},Ke={class:"fs-5"},Qe={key:0,class:"d-flex flex-column align-items-start ms-0 ms-md-2"},We={class:"fs-4 fw-bold"},Xe={class:"fs-5"},Ze={key:1,class:"d-flex flex-column align-items-start me-3"},Ie=e("i",{class:"bi bi-clock-fill me-3 fs-4"},null,-1),xe={class:""},ts={class:"col-md-5"},es={class:"d-flex align-content-center justify-content-md-between mt-2 mt-md-0"},ss={class:"d-flex flex-column justify-content-start"},as={class:"fw-bold fs-4"},os={class:"me-2 mt-1 fs-5"},ns={class:"d-flex flex-column align-items-start ms-4 ms-md-0"},is={class:"fs-4 fw-bold"},ls={class:"fs-5 mt-1"};function ds(t,s,r,w,k,A){const p=c("record-not-found"),h=c("Link");return o(),n(f,null,[t.appointments.data.length==0?(o(),n("div",Se,[_(p)])):g("",!0),e("div",Te,[e("div",Ce,[e("div",Pe,[(o(!0),n(f,null,b(t.appointments.data,l=>(o(),n("div",{class:"col-lg-6 mb-3",key:l.id},[e("div",De,[e("div",Ve,[e("div",Le,[e("div",Ue,[e("div",Fe,[l.student_image?(o(),n("img",{key:0,class:"img-fluid",src:l.student_image,alt:"teacher"},null,8,je)):(o(),n("img",Me))])]),e("div",Re,[e("div",Oe,[e("div",Be,[e("div",Ne,[e("h2",He,a(l.student_name),1)]),e("div",ze,[_(h,{href:t.route("academy.appointment_log.detail",{id:l.id}),class:"btn btn-outline-primary fw-bold px-3 py-2 shadow-sm mb-3 rounded-pill"},{default:P(()=>[L(a(t.__("Details")),1)]),_:2},1032,["href"])])])]),e("div",qe,[e("div",Ee,[e("div",Ye,[e("div",Ge,[e("h6",Je,a(t.__("Date")),1),e("span",Ke,a(l.date),1)]),l.is_schedule_required?(o(),n("div",Qe,[e("h6",We,a(t.__("Time")),1),e("span",Xe,a(l.start_time)+" - "+a(l.end_time),1)])):(o(),n("div",Ze,[Ie,e("span",xe,a(t.__("available")),1)]))])]),e("div",ts,[e("div",es,[e("div",ss,[e("span",as,a(t.__("Type")),1),e("span",os,a(l.appointment_type_name),1)]),e("div",ns,[e("span",is,a(t.__("fee")),1),e("span",ls,a(t.getDisplayAmount(l.fee)),1)])])])])])])])])]))),128))])])])],64)}const rs=y(Ae,[["render",ds]]),cs=$({components:{Head:T,AppLayout:V,ValidationErrors:F,Link:C,Table:j,TableTHead:M,TablePagination:R,TableSkeleton:B,TagSkeleton:q,SideTabsPageSkeleton:N,AcademyAppointmentListCard:rs,Breadcrums:z},mixins:[O],props:["appointment_status"],data(){return{appointments:{},currentTab:0,status_code:1,fetching:!1,key:1,columns:[{id:1,name:this.__("academy"),value:"academy.first_name",searchable:!1,sortable:!1},{id:2,name:this.__("date"),value:"date",searchable:!0,sortable:!0},{id:3,name:this.__("start time"),value:"start_time",searchable:!1,sortable:!0},{id:4,name:this.__("end time"),value:"end_time",searchable:!1,sortable:!0},{id:5,name:this.__("paid"),value:"is_paid",searchable:!1,sortable:!1}],breadcrums:[{id:1,name:"Home",link:"/"},{id:2,name:"My Appointments",link:""}]}},async created(){this.filter.status_code=this.status_code,await this.getAppointmentFilterData(!1)},methods:{async getPaginatedData(t=!1,s){s&&(this.status_code=s),this.filter.status_code=this.status_code,await this.getAppointmentFilterData(t)},getAppointmentFilterData(t){this.fetching=!0,axios.post(this.route("getApiAcademiesFilterAppointmentLogs"),this.filter).then(s=>{const r=s.data.data;t?this.appointments.data=this.appointments.data.concat(r.data):this.appointments.data=r.data,this.appointments.links=r.links,this.appointments.meta=r.meta,this.fetching=!1})}}}),ms={class:""},_s={class:"row mx-0 py-5"},ps={class:"col-12 text-center"},hs={class:"text-primary"},us={key:0,class:"container"},fs={key:1,class:"container"},gs={class:"row"},bs={class:"col-12 d-flex align-items-start align-items-md-center justify-content-between flex-column flex-md-row"},vs={class:"col-lg-6"},$s={class:"nav nav-pills account-tabs appoint-navs gap-2 gap-md-3 fs-4 fw-bold",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},ys=["onClick"],ws=["id","data-bs-target","onClick"],ks={class:"col-12 col-lg-6"},As={class:"col-12"},Ss={class:"d-md-flex align-items-center justify-content-end mb-3"},Ts={class:"d-flex me-md-3 mb-3 mb-md-0 bg-white rounded-3"},Cs={value:"",selected:""},Ps=["value"],Ds={key:0,class:"form-group me-2"},Vs={key:1,class:"form-group me-2"},Ls={key:2,class:"form-group me-2"},Us={key:3,class:"form-group me-2"},Fs={value:""},js={value:"1"},Ms={value:"0"},Rs={key:4,class:"form-group me-2"},Os=["placeholder"],Bs={class:"container py-4"},Ns={class:"col-12"};function Hs(t,s,r,w,k,A){const p=c("SideTabsPageSkeleton"),h=c("academy-appointment-list-card"),l=c("TablePagination");return o(),n("div",ms,[e("div",_s,[e("div",ps,[e("h1",hs,a(t.__("Appointment Log")),1)])]),t.fetching?(o(),n("div",us,[_(p)])):(o(),n("div",fs,[e("div",gs,[e("div",bs,[e("div",vs,[e("div",$s,[(o(!0),n(f,null,b(t.appointment_status,(i,d)=>(o(),n("li",{class:"nav-item mb-3",role:"presentation",onClick:()=>t.currentTab=d,key:d},[e("button",{class:U(["nav-link text-dark",{active:t.currentTab===d}]),id:"pills-appointment-tab-"+d,"data-bs-toggle":"pill","data-bs-target":"#pills-home-"+d,type:"button",role:"tab","aria-controls":"pills-pending","aria-selected":"true",onClick:v=>t.getPaginatedData(!1,i.status_code)},[e("div",null,a(t.__(i.display_name)),1)],10,ws)],8,ys))),128))])]),e("div",ks,[e("div",As,[e("div",Ss,[e("div",Ts,[m(e("select",{style:{width:"200px"},"onUpdate:modelValue":s[0]||(s[0]=i=>t.filter.column=i),class:"form-select shadow-none rounded-0 h-auto bg-transparent border-end border-primary border-2","aria-label":"Select Filter"},[e("option",Cs,a(t.__("select"))+" "+a(t.__("filter")),1),(o(!0),n(f,null,b(this.columns,i=>(o(),n("option",{key:i.id,value:i.value},a(i.name),9,Ps))),128))],512),[[S,t.filter.column]]),t.filter.column=="date"?(o(),n("div",Ds,[m(e("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3"},null,512),[[u,t.filter.search]])])):t.filter.column=="start_time"?(o(),n("div",Vs,[m(e("input",{type:"time","onUpdate:modelValue":s[2]||(s[2]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3"},null,512),[[u,t.filter.search]])])):t.filter.column=="end_time"?(o(),n("div",Ls,[m(e("input",{type:"time","onUpdate:modelValue":s[3]||(s[3]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3"},null,512),[[u,t.filter.search]])])):t.filter.column=="is_paid"?(o(),n("div",Us,[m(e("select",{style:{width:"200px"},"onUpdate:modelValue":s[4]||(s[4]=i=>t.filter.search=i),class:"form-select shadow-none bg-transparent h-auto","aria-label":"Select Filter"},[e("option",Fs,a(t.__("select please")),1),e("option",js,a(t.__("Yes")),1),e("option",Ms,a(t.__("No")),1)],512),[[S,t.filter.search]])])):(o(),n("div",Rs,[m(e("input",{"onUpdate:modelValue":s[5]||(s[5]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3",placeholder:t.__("Search"),type:"text"},null,8,Os),[[u,t.filter.search]])]))]),e("div",null,[e("button",{type:"button",class:"btn btn-primary me-2 w-100",onClick:s[6]||(s[6]=i=>t.getPaginatedData(!1,t.status.status_code))},a(t.__("Search")),1)])])])])])]),e("div",Bs,[_(h,{appointments:t.appointments},null,8,["appointments"]),e("div",Ns,[_(l,{onOnPageChange:t.onPageChange,meta:t.appointments.meta},null,8,["onOnPageChange","meta"])])])]))])}const zs=y(cs,[["render",Hs]]),qs=$({components:{Head:T,Link:C,RecordNotFound:H},props:["appointments"],data(){return{}}}),Es={key:0,class:"col-12 text-center mb-3"},Ys={class:"row"},Gs={class:"col-12"},Js={class:"row"},Ks={class:"card spotlight-card shadow-sm px-4 py-3 item-h border-0"},Qs={class:"card-body p-0"},Ws={class:"row align-items-center"},Xs={class:"col-md-3"},Zs={class:"d-flex justify-content-center card-avatar overflow-hidden position-relative rounded-3"},Is=["src"],xs=["src"],ta={key:2,class:"img-fluid",src:E,alt:"teacher"},ea={class:"col-md-9"},sa={class:"card-body p-0"},aa={class:"row"},oa={class:"col-md-9 align-content-start"},na={key:0,class:"mb-2 mt-4 mt-md-2 fs-4 fw-bold text-capitalize"},ia={key:1,class:"mb-2 fs-5 text-capitalize"},la={class:"col-md-3 text-start text-md-end"},da={class:"row mt-2 align-items-center"},ra={class:"col-md-7"},ca={class:"d-md-flex d-flex align-items-start"},ma={class:"d-flex flex-column align-items-start me-3"},_a={class:"fs-4 fw-bold"},pa={class:"fs-5"},ha={key:0,class:"d-flex flex-column align-items-start ms-0 ms-md-2"},ua={class:"fs-4 fw-bold"},fa={class:"fs-5"},ga={key:1,class:"d-flex flex-column align-items-start me-3"},ba=e("i",{class:"bi bi-clock-fill me-3 fs-4"},null,-1),va={class:""},$a={class:"col-md-5"},ya={class:"d-flex align-content-center justify-content-md-between mt-2 mt-md-0"},wa={class:"d-flex flex-column justify-content-start"},ka={class:"fw-bold fs-4"},Aa={class:"me-2 mt-1 fs-5"},Sa={class:"d-flex flex-column align-items-start ms-3 ms-md-0"},Ta={class:"fs-4 fw-bold ms-1 ms-md-0"},Ca={class:"fs-5 mt-1 ms-1 ms-md-0"};function Pa(t,s,r,w,k,A){const p=c("record-not-found"),h=c("Link");return o(),n(f,null,[t.appointments.data.length==0?(o(),n("div",Es,[_(p)])):g("",!0),e("div",Ys,[e("div",Gs,[e("div",Js,[(o(!0),n(f,null,b(t.appointments.data,l=>(o(),n("div",{class:"col-lg-6 mb-3",key:l.id},[e("div",Ks,[e("div",Qs,[e("div",Ws,[e("div",Xs,[e("div",Zs,[l.teacher_image?(o(),n("img",{key:0,class:"img-fluid",src:l.teacher_image,alt:"teacher"},null,8,Is)):l.academy_image?(o(),n("img",{key:1,class:"img-fluid",src:l.academy_image,alt:"teacher"},null,8,xs)):(o(),n("img",ta))])]),e("div",ea,[e("div",sa,[e("div",aa,[e("div",oa,[l.teacher_name?(o(),n("h2",na,a(l.teacher_name),1)):g("",!0),l.academy_name?(o(),n("h2",ia,a(l.academy_name),1)):g("",!0)]),e("div",la,[_(h,{href:t.route("student.appointment_log.detail",{id:l.id}),class:"btn btn-outline-primary fw-bold px-3 py-2 shadow-sm mb-3 rounded-pill"},{default:P(()=>[L(a(t.__("Details")),1)]),_:2},1032,["href"])])])]),e("div",da,[e("div",ra,[e("div",ca,[e("div",ma,[e("h6",_a,a(t.__("Date")),1),e("span",pa,a(l.date),1)]),l.is_schedule_required?(o(),n("div",ha,[e("h6",ua,a(t.__("Time")),1),e("span",fa,a(l.start_time)+" - "+a(l.end_time),1)])):(o(),n("div",ga,[ba,e("span",va,a(t.__("available")),1)]))])]),e("div",$a,[e("div",ya,[e("div",wa,[e("span",ka,a(t.__("Type")),1),e("span",Aa,a(l.appointment_type_name),1)]),e("div",Sa,[e("span",Ta,a(t.__("fee")),1),e("span",Ca,a(t.getDisplayAmount(l.fee)),1)])])])])])])])])]))),128))])])])],64)}const Da=y(qs,[["render",Pa]]),Va=$({components:{Head:T,AppLayout:V,ValidationErrors:F,Link:C,Table:j,TableTHead:M,TablePagination:R,TableSkeleton:B,StudentAppointmentListCard:Da,SideTabsPageSkeleton:N,Breadcrums:z},mixins:[O],props:["appointment_status"],data(){return{appointments:{},currentTab:0,status_code:1,fetching:!1,key:1,columns:[{id:1,name:this.__("teacher"),value:"teacher.first_name",searchable:!1,sortable:!1},{id:2,name:this.__("date"),value:"date",searchable:!0,sortable:!0},{id:3,name:this.__("start time"),value:"start_time",searchable:!1,sortable:!0},{id:4,name:this.__("end time"),value:"end_time",searchable:!1,sortable:!0},{id:5,name:this.__("paid"),value:"is_paid",searchable:!1,sortable:!1}],breadcrums:[{id:1,name:"Home",link:"/"},{id:2,name:"My Appointments",link:""}]}},async created(){this.filter.status_code=this.status_code,await this.getAppointmentFilterData(!1)},methods:{async getPaginatedData(t=!1,s){s&&(this.status_code=s),this.filter.status_code=this.status_code,await this.getAppointmentFilterData(t)},getAppointmentFilterData(t){this.fetching=!0,axios.post(this.route("getApiFilterAppointmentLogs"),this.filter).then(s=>{const r=s.data.data;t?this.appointments.data=this.appointments.data.concat(r.data):this.appointments.data=r.data,this.appointments.links=r.links,this.appointments.meta=r.meta,this.fetching=!1})}}}),La={class:"container-fluid py-5 mx-0"},Ua={class:"row"},Fa={class:"col-12"},ja={class:"text-center"},Ma={class:"fw-bold text-primary"},Ra={key:0,class:"container"},Oa={key:1,class:"container"},Ba={class:"row"},Na={class:"col-12 d-flex align-items-start align-items-md-center justify-content-between flex-column flex-md-row"},Ha={class:"col-lg-6"},za={class:"nav nav-pills account-tabs appoint-navs gap-2 gap-md-3 fs-4 fw-bold",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},qa=["onClick"],Ea=["id","data-bs-target","onClick"],Ya={class:"col-12 col-lg-6"},Ga={class:"col-12"},Ja={class:"d-md-flex align-items-center justify-content-end mb-3"},Ka={class:"d-flex me-md-3 mb-3 mb-md-0 bg-white rounded-3"},Qa={value:"",selected:""},Wa=["value"],Xa={key:0,class:"form-group me-2"},Za={key:1,class:"form-group me-2"},Ia={key:2,class:"form-group me-2"},xa={key:3,class:"form-group me-2"},to={value:""},eo={value:"1"},so={value:"0"},ao={key:4,class:"form-group me-2"},oo=["placeholder"],no={class:"container py-4"},io={class:"col-12"};function lo(t,s,r,w,k,A){const p=c("SideTabsPageSkeleton"),h=c("student-appointment-list-card"),l=c("TablePagination");return o(),n(f,null,[e("div",La,[e("div",Ua,[e("div",Fa,[e("h1",ja,[e("span",Ma,a(t.__("Appointment Log")),1)])])])]),t.fetching?(o(),n("div",Ra,[_(p)])):(o(),n("div",Oa,[e("div",Ba,[e("div",Na,[e("div",Ha,[e("div",za,[(o(!0),n(f,null,b(t.appointment_status,(i,d)=>(o(),n("li",{class:"nav-item mb-3",role:"presentation",onClick:()=>t.currentTab=d,key:d},[e("button",{class:U(["nav-link text-dark",{active:t.currentTab===d}]),id:"pills-appointment-tab-"+d,"data-bs-toggle":"pill","data-bs-target":"#pills-home-"+d,type:"button",role:"tab","aria-controls":"pills-pending","aria-selected":"true",onClick:v=>t.getPaginatedData(!1,i.status_code)},[e("div",null,a(t.__(i.display_name)),1)],10,Ea)],8,qa))),128))])]),e("div",Ya,[e("div",Ga,[e("div",Ja,[e("div",Ka,[m(e("select",{style:{width:"200px"},"onUpdate:modelValue":s[0]||(s[0]=i=>t.filter.column=i),class:"form-select shadow-none rounded-0 h-auto bg-transparent border-end border-primary border-2","aria-label":"Select Filter"},[e("option",Qa,a(t.__("select"))+" "+a(t.__("filter")),1),(o(!0),n(f,null,b(this.columns,i=>(o(),n("option",{key:i.id,value:i.value},a(i.name),9,Wa))),128))],512),[[S,t.filter.column]]),t.filter.column=="date"?(o(),n("div",Xa,[m(e("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3"},null,512),[[u,t.filter.search]])])):t.filter.column=="start_time"?(o(),n("div",Za,[m(e("input",{type:"time","onUpdate:modelValue":s[2]||(s[2]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3"},null,512),[[u,t.filter.search]])])):t.filter.column=="end_time"?(o(),n("div",Ia,[m(e("input",{type:"time","onUpdate:modelValue":s[3]||(s[3]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3"},null,512),[[u,t.filter.search]])])):t.filter.column=="is_paid"?(o(),n("div",xa,[m(e("select",{style:{width:"200px"},"onUpdate:modelValue":s[4]||(s[4]=i=>t.filter.search=i),class:"form-select shadow-none bg-transparent h-auto","aria-label":"Select Filter"},[e("option",to,a(t.__("select please")),1),e("option",eo,a(t.__("Yes")),1),e("option",so,a(t.__("No")),1)],512),[[S,t.filter.search]])])):(o(),n("div",ao,[m(e("input",{"onUpdate:modelValue":s[5]||(s[5]=i=>t.filter.search=i),class:"w-100 shadow-none bg-transparent form-control px-3",placeholder:t.__("Search"),type:"text"},null,8,oo),[[u,t.filter.search]])]))]),e("div",null,[e("button",{type:"button",class:"btn btn-primary me-2 w-100",onClick:s[6]||(s[6]=i=>t.getPaginatedData(!1,t.status.status_code))},a(t.__("Search")),1)])])])])])]),e("div",no,[_(h,{appointments:t.appointments},null,8,["appointments"]),e("div",io,[_(l,{onOnPageChange:t.onPageChange,meta:t.appointments.meta},null,8,["onOnPageChange","meta"])])])]))],64)}const ro=y(Va,[["render",lo]]),co=$({components:{AppLayout:V,Navbar:Y,PageHeader:G,TeacherAppointment:ke,AcademyAppointment:zs,StudentAppointment:ro},props:["appointment_status"],created(){}});function mo(t,s,r,w,k,A){const p=c("teacher-appointment"),h=c("academy-appointment"),l=c("student-appointment"),i=c("app-layout");return o(),D(i,{title:"Appointment Log"},{default:P(()=>[t.$page.props.auth.logged_in_as=="teacher"?(o(),D(p,{key:0,appointment_status:t.appointment_status},null,8,["appointment_status"])):g("",!0),t.$page.props.auth.logged_in_as=="academy"?(o(),D(h,{key:1,appointment_status:t.appointment_status},null,8,["appointment_status"])):g("",!0),t.$page.props.auth.logged_in_as=="student"?(o(),D(l,{key:2,appointment_status:t.appointment_status},null,8,["appointment_status"])):g("",!0)]),_:1})}const Ao=y(co,[["render",mo]]);export{Ao as default};
