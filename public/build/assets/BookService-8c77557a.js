import{_ as k,d as S,m as C,L as x,q as T,o as n,c,w as d,r,a as e,t,e as h,b as a,s as p,v as _,g as l,F as z,h as D,n as P,p as $,i as I}from"./app-532c599c.js";import{A as L,N as q}from"./AppLayout-4ad18c55.js";import{P as A}from"./PageHeader-7b6923cd.js";import{V as B}from"./ValidationErrors-b71c5ecd.js";import{C as N}from"./CalenderSkeleton-d03cdbc0.js";import{C as F,S as W,P as R,N as V}from"./carousel.es-1c5152e9.js";const E=S({components:{AppLayout:L,Navbar:q,PageHeader:A,ValidationErrors:B,CalenderSkeleton:N,Wizard:C,Link:x,Carousel:F,Slide:W,Pagination:R,Navigation:V},props:["service","gateways"],created(){this.selected_date=T(new Date)},data(){return{transaction:null,cardElement:{},currentTabIndex:0,selected_date:"",paymentScreen:!1,fetching:!1,attachment_view:"",form:this.$inertia.form({service_id:this.service.id,date:this.selected_date,question:"",attachment:"",gateway:null,phone:null}),windowWidth:window.innerWidth,isMobileScreen:!0,paymentDone:!1,bookedServiceDetail:"",settings:{itemsToShow:1,snapAlign:"start",autoplay:!1},breakpoints:{700:{itemsToShow:2,snapAlign:"start"},1024:{itemsToShow:2,snapAlign:"start"},1240:{itemsToShow:4,snapAlign:"start"}},key:1}},methods:{addFundRequest(){this.form.date=this.selected_date,this.form.post(this.route("students.book_service"),{onSuccess:s=>{this.form.gateway=="wallet"?(this.bookedServiceDetail=s.props.response_data.service,this.onChangeCurrentTab(3),this.paymentDone=!0):(window.location.replace(this.route("user.addFund.confirm",{transaction:s.props.response_data.fund.transaction})),this.bookedServiceDetail=s.props.response_data.service,this.onChangeCurrentTab(3),this.paymentDone=!0)}})},onChangeCurrentTab(s,i){this.currentTabIndex=s,this.key++},processFile(s){this.form.attachment=s.target.files[0],s.target.files[0].type.includes("image")?this.attachment_view=URL.createObjectURL(s.target.files[0]):this.attachment_view=""},async continuePaymentScreen(){this.paymentScreen=!0},onResize(){this.windowWidth=window.innerWidth,this.windowWidth<768&&(this.isMobileScreen=!1)}},mounted(){this.key++,this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})},beforeDestroy(){window.removeEventListener("resize",this.onResize)}}),m=s=>($("data-v-4b852435"),s=s(),I(),s),U={class:"container-fluid py-5"},j={class:"row"},M={class:"col-12"},H={class:"fs-2 text-center"},Y={class:"fw-normal"},G={class:"fw-bold"},O={"aria-label":"breadcrumb"},J={class:"breadcrumb justify-content-center"},K={class:"breadcrumb-item"},Q={href:"#",class:"text-dark text-decoration-none"},X={class:"breadcrumb-item text-primary fw-bold","aria-current":"page"},Z={class:"section pt-0"},ee={class:"container"},se={class:"row"},te={class:"col-md-12"},oe={key:0},ie={key:0,class:"row"},ne=m(()=>e("div",{class:"col-md-12"},[e("div",{class:"skeleton-structure"},[e("div",{class:"row mb-3"},[e("div",{class:"col-12 d-flex justify-content-end"},[e("div",{style:{width:"160px",height:"40px"},class:"bg-skeleton mb-2 p-3 rounded-5"})])]),e("div",{class:"row"},[e("div",{class:"card shadow p-3 border-0",style:{"max-width":"initial"}},[e("div",{style:{width:"180px",height:"20px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-2 mb-4"}),e("div",null,[e("ul",{class:"list-unstyled d-flex flex-wrap"},[e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"}),e("li",{style:{width:"160px",height:"50px"},class:"bg-skeleton mb-2 p-3 me-2 rounded-5"})])])])]),e("div",{class:"row mt-3"},[e("div",{class:"col-12 d-flex justify-content-end"},[e("div",{style:{width:"160px",height:"40px"},class:"bg-skeleton mb-2 p-3 rounded-5"})])])])],-1)),ae=[ne],le={key:1,class:"row mb-5"},de={class:"col-12 time-slots-list"},re={class:""},ce={class:"row align-items-center"},he={class:"col-md-12"},me={class:"row"},pe={class:"col-md-8"},_e={class:"d-flex align-items-center gap-3"},ue={class:"d-flex flex-column"},be={class:"fs-3 text-primary d-block fw-bold text-capitalize"},ve={class:"fw-normal"},fe={class:"d-flex flex-column"},ge={class:"fs-3 text-primary fw-bold text-capitalize"},ye={class:"fw-normal"},we={class:"col-md-12 mt-4"},ke={class:"mb-4 text-capitalize"},Se={class:"card rounded-4 p-3"},Ce={class:"ps-0"},xe={for:"question",class:"text-capitalize mb-3"},Te={class:"ps-0 mb-3 mt-4"},ze={for:"attachment",class:"text-capitalize mb-3"},De=["src"],Pe={class:"col-md-2 mt-3"},$e={key:1},Ie={class:"p-3"},Le={class:"row align-items-center"},qe={class:"col-md-10"},Ae={class:"d-flex align-items-center gap-3"},Be={class:"d-flex flex-column"},Ne={class:"fs-3 text-primary d-block fw-bold text-capitalize"},Fe={class:"fw-normal"},We={class:"d-flex flex-column"},Re={class:"fs-3 text-primary fw-bold text-capitalize"},Ve={class:"fw-normal"},Ee={class:"card mb-5"},Ue={class:"card-body"},je={class:"ms-3 mb-5"},Me={style:{width:"100%"},class:"px-4 mb-5"},He=["onClick"],Ye=["src","alt"],Ge={class:""},Oe={key:0,class:"ps-0"},Je={for:"phone",class:"text-capitalize mb-3"},Ke={class:"pe-3 ps-3 mb-3 mt-3"},Qe={class:"row align-items-center"},Xe={class:"col-md-6"},Ze=["disabled"],es={key:2},ss={key:0,class:"thank-you-section mt-5"},ts={class:"p-3 mb-4 rounded-lg bg-primary-light"},os={class:"row align-items-center"},is={class:"col-12 p-4 text-center"},ns=m(()=>e("i",{class:"bi bi-envelope fs-1"},null,-1)),as={class:"fs-4 mb-0 fw-bold"},ls={class:"fs-4 mb-0"},ds={class:"fs-4 mb-0"},rs={class:"fs-4 mb-0"},cs={class:"mt-5 text-center"},hs=m(()=>e("span",{class:"circle","aria-hidden":"true"},[e("span",{class:"icon arrow"})],-1)),ms={class:"button-text"};function ps(s,i,_s,us,bs,vs){const u=r("Wizard"),b=r("Slide"),v=r("Navigation"),f=r("Carousel"),g=r("Link"),y=r("app-layout");return n(),c(y,{title:"My Profile"},{header:d(()=>[]),default:d(()=>[e("div",U,[e("div",j,[e("div",M,[e("h2",H,[e("span",Y,t(s.__("Hello"))+" "+t(s.$page.props.auth.user.name)+" | ",1),e("span",G,t(s.__("book an service")),1)]),e("nav",O,[e("ol",J,[e("li",K,[e("a",Q,t(s.__("home")),1)]),e("li",X,t(s.__("Book an Service")),1)])])])])]),e("div",Z,[e("div",ee,[e("div",se,[e("div",te,[h(u,{onChange:s.onChangeCurrentTab,hideButtons:"","custom-tabs":[{title:"Book Service"},{title:"Add Payment Details"},{title:"Thanks for Booking"}]},null,8,["onChange"]),s.currentTabIndex===0?(n(),a("div",oe,[s.fetching?(n(),a("div",ie,ae)):s.paymentScreen?l("",!0):(n(),a("div",le,[e("div",de,[e("div",re,[e("div",ce,[e("div",he,[e("div",me,[e("div",pe,[e("div",_e,[e("div",ue,[e("label",be,t(s.__("service name")),1),e("span",ve,t(s.service.name??""),1)]),e("div",fe,[e("label",ge,t(s.__("fee")),1),e("span",ye,t(s.service?s.getDisplayAmount(s.service.price):""),1)])])])])]),e("div",we,[e("h5",ke,t(s.__("ask your question")),1),e("div",Se,[e("div",Ce,[e("label",xe,t(s.__("question")),1),p(e("textarea",{class:"w-100 form-control px-3","onUpdate:modelValue":i[0]||(i[0]=o=>s.form.question=o),cols:"50",rows:"6"},null,512),[[_,s.form.question]])]),e("div",Te,[e("label",ze,t(s.__("attachment")),1),e("input",{class:"w-100 custom-file-input",placeholder:"Please Enter",type:"file",id:"attachment_file",ref:"attachment_file",onChange:i[1]||(i[1]=o=>s.processFile(o)),name:"attachment_file"},null,544),s.attachment_view?(n(),a("img",{key:0,src:s.attachment_view,height:"100",width:"100",class:"mt-2"},null,8,De)):l("",!0)])])]),e("div",Pe,[e("button",{type:"button",class:"btn btn-primary",onClick:i[2]||(i[2]=o=>(s.continuePaymentScreen(),s.onChangeCurrentTab(1)))},t(s.__("continue")),1)])])])])]))])):l("",!0),s.currentTabIndex===1?(n(),a("div",$e,[e("div",Ie,[e("div",Le,[e("div",qe,[e("div",Ae,[e("div",Be,[e("label",Ne,t(s.__("service name")),1),e("span",Fe,t(s.service.name??""),1)]),e("div",We,[e("label",Re,t(s.__("fee")),1),e("span",Ve,t(s.service?s.getDisplayAmount(s.service.price):""),1)])])])])]),e("div",Ee,[e("div",Ue,[e("h3",je,t(s.__("Select Payment Gateway")),1),e("div",Me,[(n(),c(f,{key:s.key,settings:s.settings,breakpoints:s.breakpoints},{addons:d(()=>[h(v)]),default:d(()=>[(n(!0),a(z,null,D(s.gateways,(o,w)=>(n(),c(b,{key:w},{default:d(()=>[e("div",{class:P({"border border-5 border-warning":s.form.gateway==o.code}),onClick:fs=>this.form.gateway=o.code},[e("img",{class:"",src:o.image,alt:o.name},null,8,Ye),e("h5",Ge,t(o.name),1)],10,He)]),_:2},1024))),128))]),_:1},8,["settings","breakpoints"])),this.form.gateway=="paytm"?(n(),a("div",Oe,[e("label",Je,t(s.__("phone")),1),p(e("input",{type:"text",class:"w-100 form-control px-3","onUpdate:modelValue":i[3]||(i[3]=o=>s.form.phone=o)},null,512),[[_,s.form.phone]])])):l("",!0)]),e("div",Ke,[e("div",Qe,[e("div",Xe,[e("button",{type:"button",class:"btn btn-primary","data-secret":"{{ $intent->client_secret }}",onClick:i[4]||(i[4]=(...o)=>s.addFundRequest&&s.addFundRequest(...o)),disabled:s.form.processing||!s.form.gateway},t(s.__("make payment")),9,Ze),parseInt(this.$page.props.settings.enable_wallet_system)?(n(),a("button",{key:0,type:"button",onClick:i[5]||(i[5]=o=>this.form.gateway="wallet"),class:"btn btn-dark ms-3"},t(s.__("Pay Using Wallet")),1)):l("",!0)])])])])])])):l("",!0),s.currentTabIndex===3?(n(),a("div",es,[s.paymentDone?(n(),a("div",ss,[e("div",ts,[e("div",os,[e("div",is,[ns,e("p",as,t(s.__("Thank You")),1),e("p",ls,t(s.__("For Your Payment"))+" "+t(s.service?s.getDisplayAmount(s.service.price):""),1),e("p",ds,t(s.__("Service No"))+" "+t(s.bookedServiceDetail.id),1),e("p",rs,t(s.__("Payment Status"))+" "+t(s.bookedServiceDetail.is_paid?"Paid":"UnPaid"),1)])])]),e("div",cs,[h(g,{href:s.route("service_log"),class:"btn btn-primary"},{default:d(()=>[hs,e("span",ms,t(s.__("View Service Log")),1)]),_:1},8,["href"])])])):l("",!0)])):l("",!0)])])])])]),_:1})}const xs=k(E,[["render",ps],["__scopeId","data-v-4b852435"]]);export{xs as default};
